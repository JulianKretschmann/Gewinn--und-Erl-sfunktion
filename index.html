<html><head>
    <title>Erstes-JavaScript-Programm</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <script>
        "use strict";
        function fGuV() {
            var vMenge;
            var vKvariabel;
            var vKfix;
            var vStueckpreis;
            var vStart=1000;
            var vKosten;
            var vErloes;
            var vGewinn;
            var vBemerkung;
            var vAusgabe;

            vMenge = parseFloat(document.getElementById("idMenge").value);
            vKvariabel = parseFloat(document.getElementById("idKvariabel").value);
            vKfix = parseFloat(document.getElementById("idKfix").value);
            vStueckpreis = parseFloat(document.getElementById("idStueckpreis").value);
            

            vAusgabe = "";
            vAusgabe = vAusgabe + "<table border=1>";
			vAusgabe = vAusgabe + "<tr><th>Menge</td><th>Kosten</td><th>Erlöse</td><th>Gewinn</td><th>bemerkung</td></tr>"; 

            while (vStart <= vMenge) {
                vKosten = vKfix + vKvariabel * vStart;
                vErloes = vStart * vStueckpreis;
                vGewinn = vErloes - vKosten;
                if (vGewinn<0) {
                    vBemerkung = "Verlustzone";
                vAusgabe = vAusgabe + "<tr><td>" + vStart + "</td><td>" + vKosten + "</td><td>"+ vErloes + "</td><td style= color:red>" + vGewinn + "</td><td>" + vBemerkung + "</td></tr>";
                }else{
                vBemerkung = "Gewinnzone";
                vAusgabe = vAusgabe + "<tr><td>" + vStart + "</td><td>" + vKosten + "</td><td>"+ vErloes + "</td><td>" + vGewinn + "</td><td>" + vBemerkung + "</td></tr>";
            }
                vStart=vStart + 1000;

            }

            vAusgabe = vAusgabe + "</table><br>";
		
		vBEP = vKfix / (vStueckpreis-vKvariabel);

            vGewinnschwelle = vBEP * vStueckpreis;

            vAusgabe = vAusgabe + "Break-Even-Point: " + vBEP + " Stück<br>";
            vAusgabe = vAusgabe + "Gewinnschwelle: " + vGewinnschwelle + "€"
            document.getElementById("idAusgabe").innerHTML = vAusgabe;

        }
        
        
        
        
    </script>
</head>

<body>
    <h1>Gewinn- und Erlösfunktion</h1>
    Kosten-Variabel: <input id="idKvariabel" type="text" value="4">
    Kosten-Fix: <input id="idKfix" type="text" value="12800"><br /><br/>
    Produktionsmenge: <input id="idMenge" type="text" value="20000">
    Stückpreis: <input id="idStueckpreis" type="text" value="6"><br />
    <button onClick="fGuV();">Kostentabelle</button><br/>
    <div id="idAusgabe"></div>

</body></html>
